<ion-view view-title="Location" name="Location">
  <ion-header-bar class="bar-positive" align-title="center">
    <div class="buttons pull-left">
      <button class="button button-icon" ui-sref="home">
        <i class="ion-chevron-left"></i>
      </button>
    </div>
    <h1 class="title">Your Locations</h1>
    <div class="buttons pull-right">
      <button class="button button-icon ion-ios-navigate-outline" nav-direction="back" ui-sref="location"></button>
    </div>
  </ion-header-bar>
  <ion-content class="has-header" scroll="true">
  <div class="card" ng-cloak ng-hide='locations[0].locations.length != 0'>
    <div class="item item-text-wrap">
        <p class="text-center">Add a location by clicking <a ui-sref="location">HERE!</a></p>
    </div>
  </div>
  <div class="list" ng-show='locations[0].locations'>
      <div nav-direction="forward" class="item text-center" style="{{location.isActive ? 'background-color: #CCFFCC;' : ''}}" ng-repeat="location in locations[0].locations | orderBy: '-isActive'">
        <p>{{location.name}} -- {{location.city}}, {{location.state}}</p>
        <h6>{{location.isCurrentLocation ? 'Current Location' : 'Address Location'}} -- Radius: {{location.radius | toMiles }}</h6>
        <button class="button button-positive button-small" ng-click="changeLocation(location.locationId);">Change Location</button>
        <a class="button button-energized button-small" ui-sref="{{location.isCurrentLocation ? 'editCurrent({currentId: location.locationId })' : 'editAddress({addressId: location.locationId })'}}">Edit</a>
        <button class="button button-assertive button-small" ng-click="deleteLocation(location.locationId);">Delete</button>
    </div>
  </div>
   </ion-content>
</ion-view>
